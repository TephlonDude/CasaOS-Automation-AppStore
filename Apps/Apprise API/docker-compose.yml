x-casaos:
  title: "Apprise API"
  description: "Notification API wrapper for Apprise — expose a simple HTTP API for notifications"
  icon: "https://selfh.st/icons/Apprise%20API.svg"
  category: "Notifications"
  architectures: [amd64, arm64]
  author: "CasaOS Community"
  homepage: "https://github.com/caronc/apprise-api"
  main: "apprise-api"
  port_map: "8000"

  fallback_images:
    - ""

services:
  apprise-api:
    image: caronc/apprise-api:latest
    container_name: apprise-api
    restart: unless-stopped
    environment:
      - TZ=${TZ:-UTC}
      - APPRISE_API_KEY=${APPRISE_API_KEY:-REPLACE_WITH_SECURE_KEY}
    ports:
      - "8000:8000"
    volumes:
      - /DATA/AppData/apprise-api:/config
    networks:
      - apprise-net
    healthcheck:
      test: ["CMD-SHELL", "wget -qO - http://127.0.0.1:8000/ || curl -fsS http://127.0.0.1:8000/ || exit 1"]
      interval: 30s
      timeout: 5s
      retries: 3

networks:
  apprise-net:
    driver: bridge
